<?php/** * @author Pablo Vanni - pablovanni@gmail.com * @since 23/02/2005 * @name Enviar Emails * @version 2.0 * @package Framework */namespace Zion\Email;class Email{    public function enviarEmail($Email, $Assunto, $Msg)    {        $FPHP = new FuncoesPHP();                if(!$FPHP->verificaEmail($Email)) throw new Exception("O Email '$Email' é Inválido!");                $Mail = new PHPMailer();        $Mail->IsSMTP();        $Mail->Host = ConfigSIS::$CFG['HostEmail'];        $Mail->SMTPAuth = true; // Usa autenticação SMTP? (opcional)        $Mail->Username = ConfigSIS::$CFG['EmailPadrao']; // Usuário do servidor SMTP        $Mail->Password = ConfigSIS::$CFG['SenhaEmail']; // Senha do servidor SMTP        $Mail->From = ConfigSIS::$CFG['EmailPadrao']; // Seu e-mail        $Mail->FromName = ConfigSIS::$CFG['EmailTag']; // Seu nome        $Mail->AddAddress($Email, 'Usuário do Site');        $Mail->IsHTML(true);        $Mail->CharSet = 'UTF-8';        //$Mail->SMTPDebug = 2;         if(ConfigSIS::$CFG['PortaEmail']){            $Mail->Port = ConfigSIS::$CFG['PortaEmail'];                $Mail->SMTPSecure = "ssl";        }                $Mail->Subject  = $Assunto; // Assunto da mensagem        $Mail->Body = $Msg;        $Enviado = $Mail->Send();        $Mail->clearAllRecipients();        if(!$Enviado){            throw new Exception('Não foi possivel enviar o e-mail, motivo: '.$Mail->ErrorInfo);        }    }        public function enviarEmailGrupo($GrupoEmails, $Assunto, $Msg)    {        $FPHP = new FuncoesPHP();                $Mail = new PHPMailer();        $Mail->IsSMTP();        $Mail->Host = ConfigSIS::$CFG['HostEmail'];        $Mail->SMTPAuth = true; // Usa autenticação SMTP? (opcional)        $Mail->Username = ConfigSIS::$CFG['EmailPadrao']; // Usuário do servidor SMTP        $Mail->Password = ConfigSIS::$CFG['SenhaEmail']; // Senha do servidor SMTP        $Mail->From = ConfigSIS::$CFG['EmailPadrao']; // Seu e-mail        $Mail->FromName = ConfigSIS::$CFG['EmailTag']; // Seu nome                $Mail->IsHTML(true);        $Mail->CharSet = 'iso-8859-1';        if(ConfigSIS::$CFG['PortaEmail']){            $Mail->Port = ConfigSIS::$CFG['PortaEmail'];                $Mail->SMTPSecure = "ssl";        }                $Mail->Subject  = $Assunto; // Assunto da mensagem        $Mail->Body = $Msg;                $TotalEnviados = 0;        foreach ($GrupoEmails as $Email){            if($FPHP->verificaEmail($Email)){                $Mail->AddAddress($Email, 'Usuário do Site');                        $Enviado = $Mail->Send();                $Mail->clearAllRecipients();                                if($Enviado){                    $TotalEnviados++;                }            }                   }                return $TotalEnviados;    }        public function teste()    {        return 'funcionei';    }}